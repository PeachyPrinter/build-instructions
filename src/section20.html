  <div class="buttons">
      <div data-dojo-type="dijit.form.Button">Previous Section
        <script type="dojo/method" data-dojo-event="onClick">
          selectSectionAndImage('section19', 'app/images/noimage.jpg');
        </script>
      </div>

      <div data-dojo-type="dijit.form.Button">Next Section
        <script type="dojo/method" data-dojo-event="onClick">
          selectSectionAndImage('section21', 'app/images/noimage.jpg');
        </script>
      </div>
    </div>

    
    <div id="section20">
    <h3>Section 20 - Calibrating the Peachy Printer</h3>

    <div id="section20-0" class="live" onclick="set_images(['app/images/parts-labelled.jpg'], this)"><b>For this section you will need:</b>
<br>
        <br>
        - The Peachy Printer with all connected to your computer with software installed, your upper and lower reservoirs, and the drip feed
        <br>
        - Calibration grid
        <br>
        - Extra elastic thread (about 9 inches in length)
        <br>
        - One small nut (from the nuts and bolts bag)
        <br>
        - Wire mesh print base
        <br>
        - Saltwater
        <br>
        - The extra syringe
        <br>
        - Safety glasses
        <br>
        <br>
        Click to see an image of the parts labelled.
        <br>
        <br>
        <b>Safety Note:</b> This section of the instructions requires the laser to be on and unguarded. Everyone within line of sight of the printer should be wearing the UV protective glasses provided. If you have pets, make sure they are out of the room. Remember, you can’t see the UV light very well. Even a very bright UV light will appear fairly dim to the human eye unless its shining on a phosphorescent surface.
        <br>
        <br>
    </div>

        <h3>Part A - Calibrating the printer</h3>
        
    <div id="section20-0a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)"><b>Description:</b> Calibrating your printer will help account for discrepancies in centering, distance from the print area,  and physical differences between each printer. This process is required every time you change the printer height, change reservoirs, move the internal components of the printer (such as a hard bump or a fall), change computers, or change sound cards.
        <br>
        <br>
        <b>Note:</b> This section has no images yet.</div>
        
        <div id="section20-1a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">1A. Determine the height of your lower reservoir by measuring from the bottom of the inside of the reservoir up to the top of its walls. If you are using our default housing we recommend a lower reservoir with a maximum height of 6 cm.</div>
        
        <div id="section20-2a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">2A. Determine the maximum Z range (printable object height) for the reservoir you chose  - the distance between the print base level (the level at which you start a print) to the maximum height of your build volume.  You can do this by measuring the height of your wire mesh print base, and subtracting that from the height of your lower reservoir.  For example - 6 cm (height of lower reservoir) subtract 1 cm (height of print base) = 5 cm (maximum Z range)</div>
        
        <div id="section20-3a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">3A. Make sure that your sound card is set to maximum volume for the speaker.
            <br>
            <br>
            <b>Note:</b> Some sound cards have a boost feature, audio effects, and microphone feedback. Ensure that these features are off.</div>
        
        <div id="section20-4a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">4A. Mount the printer back onto the internal box by hooking the main hanger onto the internal box.</div>
        
        <div id="section20-5a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">5A. With your safety glasses on, open the calibration software.</div>
        
        <div id="section20-6a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">6A. Click <b>&quot;Add new calibration&quot;</b> then enter the height you determined in step 3.</div>
        
        <div id="section20-7a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">7A. Select the <b>&quot;0.0&quot;</b> calibration and click <b>“Delete current calibration”</b>.</div>
        
        <div id="section20-8a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">8A. Place your lower reservoir directly underneath the printer, inside the internal housing. Lay the calibration grid on top of your lower reservoir so that it’s sitting at the height you determined in Step 2 (the height of your lower reservoir).</div>
        
        <div id="section20-9a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">9A. Take the piece of extra elastic thread and tie a knot around the nut. You’ll use this as a miniature plumb bob to line the calibration grid up directly underneath the 2nd mirror on the printer.</div>
        
        <div id="section20-10a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">10A. Take the nut with the string attached and lay it down on the center of the calibration grid. Take the untied end of thread and route it up and around the mirror frame so that the thread is hanging overtop of the frame in a “U” shape.  The thread should hanging in line with the center of the mirror.</div>
        
        <div id="section20-11a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">11A. Pull the untied end of the thread down until the nut is hanging about 1mm above the calibration grid, suspended from the second mirror.</div>
        
        <div id="section20-12a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">12A. Move the calibration grid so that the center of the grid is lined up with the nut, but positioned about 5 mm behind it. </div>
        
        <div id="section20-13a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">13A. Use the spring force adjustment tubes to align the laser beam to hit dead center of the calibration grid. </div>
        
        <div id="section20-14a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">14A. Once you have the laser beam as close to center as you can get it, align the calibration grid so that the laser beam is hitting dead center on the grid.</div>
        
        <div id="section20-15a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">15A. In the calibration application from the <b>&quot;Shape&quot;</b> pull down menu select <b>“Xline”</b>. The printer should now be drawing a straight line back and forth along the X axis. Rotate the calibration grid so the laser path matches up with the gridlines.
            <br>
            <br>
            <b>Note:</b> Move the shape back and forth between Center and Xline to assure that the calibration grid stays centered underneath the second mirror after it’s been moved.
            <br>
            <br>
            <b>Troubleshooting Tip:</b> Due to the fact that the dynamic damper tab is a protruding and moving part, and that the static damper must be mounted in such close proximity for the dampening system to work, it can often be the source of malfunction if it’s not adjusted properly.  If you’re experiencing issues here, it’s likely that the dynamic damper tab is running into the static damper and needs to be re-adjusted.</div>
        
        <div id="section20-16a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">16A. In the calibration application from the <b>“Shape”</b> pull down menu select <b>&quot;Square&quot;</b>. Your printer should now be attempting to draw a square on the calibration grid.  It will most likely be quite warped.  This is normal, and is what the calibration app is for. 
            <br>
            <br>
            <b>Troubleshooting Tip:</b> Depending on the size of square that the printer is drawing, a section of the square may appear to be missing.  This is likely because the printer is attempting to draw a square too large and the laser beam is actually being blocked by the mirror frame for a portion of it's path. This can be fixed with calibration.</div>
        
        <div id="section20-17a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">17A. Manipulate the values of the <b>"shear"</b> and <b>&quot;scale&quot;</b> tuning parameters to make the warped square a true square. Use the grid lines on the calibration grid as a reference to the correctness of the square. When finished, the 4 walls of the square should trace the lines on the calibration grid. You’ll need to make note of how large the square is, as you’ll have to re-create a square of the same size in a later step.
            <br>
            <br>
            <b>Tip:</b> Start with shear, and finish with scale. It’s generally a good idea to scale down (this will fix the issue of the laser path being blocked by the mirror frame).</div>
        
        <div id="section20-18a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">18A. Measure the distance from the center to the edge of the square in millimeters and enter that in the “Max position” fields of the X and Y axis columns. <br>
            <br>
            <b>Note:</b> The light grey grid lines on the calibration paper are 2mm apart, and the dark grid lines are 1 cm apart.</div>
        
        <div id="section20-19a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">19A. Re-adjust the height of the calibration grid so that it is at the print base level (the height of your print base).  The simplest way to do this is to put the calibration grid on top of your print base.  If the calibration grid doesn’t fit inside your lower reservoir that is fine.  Remove your lower reservoir from underneath the printer and place the calibration grid on top of the print base directly on the surface of your work area.</div>
        
        <div id="section20-20a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">20A. Click the "<b>Add new calibration</b>" button and enter "<b>0.0</b>"</div>
        
        <div id="section20-21a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">21A. In the calibration application from the <b>“shape”</b> pull down menu select <b>“center”</b></div>
        
        <div id="section20-22a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">22A. Align the calibration grid so that the laser beam is shining on the center point of the grid.</div>
        
        <div id="section20-23a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">23A. In the calibration application from the “<b>Shape</b>” pull down menu select “<b>Xline</b>” and rotate the paper to line up on that axis.<br>
            <br>
            <b>Note:</b> Move the shape back and forth between Center and Xline to assure that the calibration grid stays centered underneath the second mirror after it’s been moved.</div>
        
        <div id="section20-24a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">24A. In the calibration application from the <b>“Shape”</b> pull down menu select <b>“Square”</b>.</div>
        
        <div id="section20-25a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">25A. Reduce the X and Y scale values in the <b>“tuning parameters”</b> section until the size of the square that the printer is drawing is equal to the size of the square that was drawn in step 17. 
            <br>
            <br>
            <b>Note:</b> Be sure that you don’t use the “<b>size</b>” field to adjust the size of the square as it’s a global variable and its value is not saved in each calibration file.</div>
        <div id="section20-26a" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">26A. Click save and save your calibration file under the name <b>“tuning.dat”</b> 
            <br>
            <br>
            <b>Note:</b> There is already a file named <b>"tuning.dat"</b> in the src directory.  Overwrite it with your new file.</div>
</div>

<h3>Part B - Calibrating the dripper</h3>

<div id="section20-0b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)"><b>Description:</b> This step allows the software to determine the height of the print surface in your tank. This process must be completed every time you physically alter the dripper or change the lower reservoir.
<br>
<br>
<b>Note:</b> The drip rate affects the size of the drips by as much as 30%. This is an issue we plan to account for in the software by measuring the time between each drip and using that in a formula to calculate the drip size.  For now just be aware that it is still an issue.  Another possible solution is a solenoid valve which governs a consistently fast drip speed by turning it on or off.  Being that the Peachy Printer is a community project, feel free to get involved with the development of this feature by visiting the thread about it at <a href="http://3dprintboard.com/showthread.php?2194-Drip-Governor-A-most-valuble-first-hack" target="_blank">3Dprintboard.com</a>.</div>

<div id="section20-1b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">1B. Ensure that your computer’s microphone levels are at 100% and no special effects or features are enabled (monitoring, etc). </div>

<div id="section20-2b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">2B. Remove the lower reservoir from underneath the printer and put the external housing and top plate over the printer.</div>

<div id="section20-3b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">3B. Fill your upper reservoir with salt water and place it on top of the printer. Hang the upper hose hanger of your drip feed on the rim of the upper reservoir.  Ensure that the end of the hose is submerged in the saltwater, and that the clamp ring valve at the top of the drip feed is opened enough to allow the salt water to flow through the hose.</div>

<div id="section20-4b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">4B. Take the extra syringe and insert the nozzle into the bottom end of the drip feed. Pull the plunger all the way out, this should start the siphoning action.</div>

<div id="section20-5b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">5B. Hang the lower hose hanger on the rim of the lower reservoir. The drip feed should now be running. Adjust the clamp ring valve to stop the drip feed completely.</div>

<div id="section20-6b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">6B. Plug the audio jack that’s wired to the drip feed into your computer’s microphone jack.</div>

<div id="section20-7b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">7B. Launch the drip counter application.
    <br>
A. Start the console / terminal / command prompt.
    <br>
B. Change directory into the source folder for the application (where-you-saved it/PeachyToolChain/src).
    <br>
C. Type <b>python drip_counter.py</b> and press <b>Enter</b>.</div>

<div id="section20-8b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">8B. Adjust the valve on your drip feed to start the dripping.  
    <br>
    <br>
    <b>Note:</b> As the drips fall, they must simultaneously make contact with both aluminum rods inside the syringe on your drip feed.  If this is not happening, make sure the aluminum rods are aligned so that the upper rod is directly above the lower rod, and within a small enough distance that each drip can touch both rods for a fraction of time.</div>

<div id="section20-9b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">9B. You should have feedback in the console showing the drips as they occur.
    <br>
    <br>
    <b>Troubleshooting tip:</b> If you can’t see the drips being counted, a number of things could be going wrong.  The aluminum rods in the drip feed may not be lined up properly, or the wires on the dripper could be hooked up incorrectly or have a bad connection.  Check to ensure that these things are done correctly and if that doesn’t fix the problem, post in the forum for help.  If you’d like, see if others need help too!</div>

<div id="section20-10b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">10B. Quit the application by pressing <b>Ctrl-C</b>.</div>

<div id="section20-11b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">11B. Close the valve on your drip feed so that the dripping stops.</div>

<div id="section20-12b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">12B. Make a mark 30 mm up from the surface of the salt water in the lower reservoir.</div>

<div id="section20-13b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">13B. Start the drip counter application again by typing <b>python drip_counter.py</b> and press <b>Enter</b></div>

<div id="section20-14b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">14B. Open the valve so that it starts dripping at a rate of approximately one drip per second (you can just estimate this).</div>

<div id="section20-15b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">15B. Let the drip feed run until the surface level of the salt water in the lower reservoir is at the height of the mark you made in step 12.  Note the total number of drips shown in the drip counter application.</div>

<div id="section20-16b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">16B. Calculate the total number of drips per mm by dividing the total number of drips by 10.
</div>

<div id="section20-17b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">17B. Open the calibration application.</div>

<div id="section20-18b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">18B. Click "load" and select the "<b>tuning.dat</b></b>" calibration file you saved in Part A.</div>
</div>
<div id="section20-19b" class="live" onclick="set_images(['app/images/noimage.jpg'], this)">19B. Enter the drips per mm and click &quot;save&quot; to update this file.</div>
</div>

