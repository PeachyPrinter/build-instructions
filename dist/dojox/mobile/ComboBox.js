//>>built
define("dojox/mobile/ComboBox","dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-geometry dojo/dom-style dojo/dom-attr dojo/window dojo/touch dijit/form/_AutoCompleterMixin dijit/popup ./_ComboBoxMenu ./TextBox ./sniff".split(" "),function(z,A,B,p,e,q,r,C,u,D,s,F,E,l){z.experimental("dojox.mobile.ComboBox");return A("dojox.mobile.ComboBox",[E,D],{dropDownClass:"dojox.mobile._ComboBoxMenu",selectOnClick:!1,autoComplete:!1,dropDown:null,maxHeight:-1,dropDownPosition:["below",
"above"],_throttleOpenClose:function(){this._throttleHandler&&this._throttleHandler.remove();this._throttleHandler=this.defer(function(){this._throttleHandler=null},500)},_onFocus:function(){this.inherited(arguments);!this._opened&&!this._throttleHandler&&this._startSearchAll();l("windows-theme")&&this.domNode.blur()},onInput:function(c){this._onKey(c);this.inherited(arguments)},_setListAttr:function(c){this._set("list",c)},closeDropDown:function(){this._throttleOpenClose();this.endHandler&&(this.disconnect(this.startHandler),
this.disconnect(this.endHandler),this.disconnect(this.moveHandler),clearInterval(this.repositionTimer),this.repositionTimer=this.endHandler=null);this.inherited(arguments);r.remove(this.domNode,"aria-owns");s.close(this.dropDown);this._opened=!1;l("windows-theme")&&this.domNode.disabled&&this.defer(function(){this.domNode.removeAttribute("disabled")},300)},openDropDown:function(){var c=!this._opened,b=this.dropDown,f=b.domNode,g=this.domNode,t=this;r.set(b.domNode,"role","listbox");b.id&&r.set(this.domNode,
"aria-owns",b.id);l("touch")&&p.global.scrollBy(0,e.position(g,!1).y);this._preparedNode||(this._preparedNode=!0,f.style.width&&(this._explicitDDWidth=!0),f.style.height&&(this._explicitDDHeight=!0));var a={display:"",overflow:"hidden",visibility:"hidden"};this._explicitDDWidth||(a.width="");this._explicitDDHeight||(a.height="");q.set(f,a);a=this.maxHeight;if(-1==a)var a=C.getBox(),d=e.position(g,!1),a=Math.floor(Math.max(d.y,a.h-(d.y+d.h)));s.moveOffScreen(b);b.startup&&!b._started&&b.startup();
d=e.position(this.dropDown.containerNode,!1);a&&d.h>a&&(d.h=a);d.w=Math.max(d.w,g.offsetWidth);e.setMarginBox(f,d);f=s.open({parent:this,popup:b,around:g,orient:l("windows-theme")?["above"]:this.dropDownPosition,onExecute:function(){t.closeDropDown()},onCancel:function(){t.closeDropDown()},onClose:function(){t._opened=!1}});this._opened=!0;if(c){var m=!1,h=!1,k=!1,n=b.domNode.parentNode,c=e.position(g,!1),a=e.position(n,!1),v=a.x-c.x,w=a.y-c.y,x=-1,y=-1;this.startHandler=this.connect(p.doc.documentElement,
u.press,function(a){k=h=!0;m=!1;x=a.clientX;y=a.clientY});this.moveHandler=this.connect(p.doc.documentElement,u.move,function(a){h=!0;if(a.touches)k=m=!0;else if(k&&(a.clientX!=x||a.clientY!=y))m=!0});this.clickHandler=this.connect(b.domNode,"onclick",function(){h=!0;k=m=!1});this.endHandler=this.connect(p.doc.documentElement,"onmouseup",function(){this.defer(function(){h=!0;!m&&k&&this.closeDropDown();k=!1})});this.repositionTimer=setInterval(B.hitch(this,function(){if(h)h=!1;else{var a=e.position(g,
!1),b=e.position(n,!1),c=b.x-a.x,a=b.y-a.y;(1<=Math.abs(c-v)||1<=Math.abs(a-w))&&q.set(n,{left:parseInt(q.get(n,"left"))+v-c+"px",top:parseInt(q.get(n,"top"))+w-a+"px"})}}),50)}l("windows-theme")&&this.domNode.setAttribute("disabled",!0);return f},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick");r.set(this.domNode,"role","combobox")},destroy:function(){this.repositionTimer&&clearInterval(this.repositionTimer);this.inherited(arguments)},_onClick:function(c){this._throttleHandler||
(this.opened?this.closeDropDown():this._startSearchAll())}})});
//@ sourceMappingURL=ComboBox.js.map